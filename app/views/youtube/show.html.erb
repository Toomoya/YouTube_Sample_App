<h1>YouTube Sample</h1>
<div class="container">
  <div class="row">
    <div class="col-sm-1">
    </div>
    <div class="col-sm-10">
      <div class="card border-success">
        <h1 class="card-title center">
           <%= @song %>/<%= @artist %>
        </h1>
        <div id="player"></div>
        <br>
        ※うまく表示されない場合はリロードしてください
        <%= link_to "ホームに戻る", youtube_index_path , :class => "btn btn-primary"%>
      </div>
    </div>
    <div class="col-sm-1">
    </div>
  </div>
</div>

  <script type="text/javascript">
    //IFrame Player API用のJavaScriptを呼び込んで、ページの<script>タグとして埋め込みます
    var tag = document.createElement('script');
    tag.src = "https://www.youtube.com/iframe_api";
    var firstScriptTag = document.getElementsByTagName('script')[0];
    firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

    var player;
    function onYouTubeIframeAPIReady() {
      player = new YT.Player('player', {
        width: '100%',
        videoId: '<%= @videoId1 %>',
        events: {
          'onReady': onPlayerReady
        }
      });
    }


    //上記の記述でプレイヤーの準備が整うと実行されます
    //ここでは、プレイヤーの準備が整えば再生を開始するようになっています
    function onPlayerReady(event) {
      event.target.playVideo();
    }
  </script>
