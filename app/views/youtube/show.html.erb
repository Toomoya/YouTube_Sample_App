<h1 class="hit-the-floor">YouTube Sample</h1>
<div class="container">
  <div class="row">
    <div class="col-lg-1">
    </div>
    <div class="col-lg-10 col-xs-12">
      <div class="card border-info text-white bg-dark">
        <h1 class="card-title center">
           <%= @song %>/<%= @artist %>
        </h1>
        <div id="player"></div>
        <br>
        ※うまく表示されない場合はリロードしてください
        <a class="twitter-share-button" href="https://twitter.com/share" data-dnt="true">Tweet</a><br>
        <%= link_to "ホームに戻る", youtube_index_path , :class => "btn btn-primary"%>
      </div>
    </div>
    <div class="col-lg-1">
    </div>
  </div>
</div>

  <script type="text/javascript">

    //IFrame Player API用のJavaScriptを呼び込んで、ページの<script>タグとして埋め込みます
    var tag = document.createElement('script');
    tag.src = "https://www.youtube.com/iframe_api";
    var firstScriptTag = document.getElementsByTagName('script')[0];
    firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

    var player;
    function onYouTubeIframeAPIReady() {
      player = new YT.Player('player', {
        width: '100%',
        videoId: '<%= @videoId1 %>',
        events: {
          'onReady': onPlayerReady
        }
      });
    }


    //上記の記述でプレイヤーの準備が整うと実行されます
    //ここでは、プレイヤーの準備が整えば再生を開始するようになっています
    function onPlayerReady(event) {
      event.target.playVideo();
    }
    window.twttr=(function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],t=window.twttr||{};if(d.getElementById(id))return;js=d.createElement(s);js.id=id;js.src="https://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);t._e=[];t.ready=function(f){t._e.push(f);};return t;}(document,"script","twitter-wjs"));
  </script>
